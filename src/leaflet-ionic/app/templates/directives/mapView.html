<ion-view title="Map" hide-nav-bar="true">
  <ion-header-bar class="item-input-inset">
    <button menu-toggle="left" class="button button-icon ion-navicon"></button>
    <div class="item-input-wrapper">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" placeholder="Search" ng-model="search.query" ng-model-options="{debounce: 1500}" ng-change="search()">
      <i class="icon ion-close placeholder-icon" ng-click="reset('search');"></i>
    </div>
    <div class="bar-header padding-left" ng-show="map.editable">
      <button class="button button-clear pull-right button-positive" ng-click="map.finish()">Finish</button>
      <button class="button button-clear pull-right" ng-click="map.cancel($event)">Cancel</button>
    </div>
  </ion-header-bar>
  <ion-content class="has-header" scroll="false" ng-show="search.results.length < 2">
    <map layers locate editable></map>
  </ion-content>
  <ion-content class="has-header" scroll="true" ng-show="search.results.length > 1">
    <ion-scoll>
      <ul class="list">
        <li class="item" ng-repeat="hit in search.results" ng-click="panTo({{$index}})">
          {{hit.address}}
        </li>
      </ul>
    </ion-scoll>
  </ion-content>
</ion-view>
